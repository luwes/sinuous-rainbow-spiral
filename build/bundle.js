!function(){"use strict";var n,t,e=[];function r(t){var e=n;n=void 0;var r=t();return n=e,r}function i(r){function i(o){if(0===arguments.length)return n&&!i.o.has(n)&&(i.o.add(n),n.u.push(i)),r;if(t)return i.t===e&&t.push(i),i.t=o,o;r=o;var u=n;return n=void 0,i.i=new Set(i.o),i.i.forEach((function(n){return n.s=!1})),i.i.forEach((function(n){n.s||n()})),n=u,r}return i.$o=!0,i.o=new Set,i.t=e,i}function o(t,e){function r(){var i=n;n&&n.__c.push(r);var o=r.__c;return c(r),r.s=!0,n=r,e=t(e),o.forEach((function(n){-1===r.__c.indexOf(n)&&(n.s=!0)})),function n(t){return t.reduce((function(t,e){return t.concat(e,n(e.__c))}),[])}(r.__c).forEach(u),n=i,e}function i(){return r.s?r.u.forEach((function(n){return n()})):e=r(),e}return t.v=r,f(r),r(),i.$o=!0,i}function u(n){n.s&&n.u.forEach((function(t){t.i&&t.i.delete(n)}))}function a(n){return o(n),function(){return c(n.v)}}function c(n){n.__c.forEach(c),n.u.forEach((function(t){t.o.delete(n),t.i&&t.i.delete(n)})),n.S.forEach((function(n){return n()})),f(n)}function f(n){n.u=[],n.__c=[],n.S=[]}var l=Object.freeze({__proto__:null,S:o,cleanup:function(t){return n&&n.S.push(t),t},computed:o,isListening:function(){return!!n},o:i,observable:i,root:function(t){var e=n,r=function(){};n=r,f(r);var i=t((function(){c(r),n=void 0}));return n=e,i},sample:r,subscribe:a,transaction:function(n){t=[];var r=n(),i=t;return t=void 0,i.forEach((function(n){if(n.t!==e){var t=n.t;n.t=e,n(t)}})),r},unsubscribe:function(n){c(n.v)}}),s={},d=[],v="__g";function p(n,t,e,r){if(e){if(t){if(!r){var i=(r=e.previousSibling||n.lastChild)[v];if(i)for(r=r.previousSibling;r&&r[v]!==i;)r=r.previousSibling}for(var o;r&&r!==e;)o=r.nextSibling,n.removeChild(r),r[v]=0,r=o}}else n.textContent=""}var h=0;function g(n,t,e,r,i){n=e&&e.parentNode||n;var o=typeof t;return t===r||(!t&&0!==t||!0===t?(p(n,r,e,i),r=null):r&&"string"!=typeof r||!("string"===o||"number"===o&&(t+=""))?"function"===o?s.subscribe((function(){r=s.insert(n,t(),e,r)})):(p(n,r,e,i),t instanceof Node||(t=s.h(d,t)),11===t.nodeType&&t.firstChild!==t.lastChild&&(t.firstChild[v]=t.lastChild[v]=++h),n.insertBefore(t,e||null),r=t):(null!=r&&n.firstChild?e?(e.previousSibling||n.lastChild).data=t:n.firstChild.data=t:e?n.insertBefore(document.createTextNode(t),e):n.textContent=t,r=t)),r}function m(n,t,e,r,i){if(!n||"attrs"===n&&(r=!0))for(n in t)m(n,t[n],e,r,i);else"o"!==n[0]||"n"!==n[1]||t.$o?"function"==typeof t?t.$t?t.$t(2,m,e,n):s.subscribe((function(){m(n,t(),e,r,i)})):i?e.style.setProperty(n,t):r||"data-"===n.slice(0,5)||"aria-"===n.slice(0,5)?e.setAttribute(n,t):"style"===n?"string"==typeof t?e.style.cssText=t:m(null,t,e,r,!0):("class"===n&&(n+="Name"),e[n]=t):function(n,t,e){t=t.slice(2);var r=s.cleanup((function(){return n.removeEventListener(t,b)}));e?n.addEventListener(t,b):r(),(n.t||(n.t={}))[t]=e}(e,n,t)}function b(n){return this.t[n.type](n)}function y(n,t){for(var e in n)s[e]=n[e];function r(){var n,e=d.slice.call(arguments);return e.forEach((function r(i){var o=typeof i;if(null==i);else if("string"===o)n?n.appendChild(document.createTextNode(i)):n=t?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i);else if(Array.isArray(i))n||(n=document.createDocumentFragment()),i.forEach(r);else if(i instanceof Node)n?n.appendChild(i):n=i;else if("object"===o)m(null,i,n,t);else if("function"===o)if(n){var u=n.appendChild(document.createTextNode(""));i.$t?i.$t(1,g,n,""):g(n,i,u)}else n=i.apply(null,e.splice(1));else n.appendChild(document.createTextNode(""+i))})),n}return s.insert=g,s.property=m,s.h=r,r}var x=y(l),C=(y(l,!0),"__g"),S="nextSibling",_="previousSibling",E=0;function T(n,t,e){var r;return t instanceof Node?11===t.nodeType&&(r=t.firstChild)&&r!==t.lastChild&&(r[C]=t.lastChild[C]=++E):t=document.createTextNode(t),n.insertBefore(t,e||null),r||t}function N(n,t,e){var r=n[C];if(r)for(n=n[t];n&&n[C]!==r;)n=n[t];return e?n:n[t]}function w(n,t,e){for(var r;t!==e;)r=t.nextSibling,n.removeChild(t),t=r}function A(n,t,e,r){for(var i;t!==e;)i=t.nextSibling,n.insertBefore(t,r),t=i}function k(n,t){var e=-1,r=n.length;if(r>0&&n[r-1]<=t)return r-1;for(;r-e>1;){var i=(e+r)/2|0;n[i]>t?r=i:e=i}return e}var M=[200,500,1e3,2e3],$=i(M[0]),L=6,P=requestAnimationFrame;function q(){var n=i("requestAnimationFrame"),t={timeout:50},e={requestAnimationFrame:requestAnimationFrame,requestIdleCallback:function(n){function t(t){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}((function(n){return requestIdleCallback(n,t)})),"setTimeout(100)":function(n){return setTimeout(n,100)},"setTimeout(0)":function(n){return setTimeout(n,0)}};return a((function(){return P=e[n()]})),x([x("label",{class:"animation-picker picker",onmousedown:function(n){return n.stopPropagation()}},"Timing:",x("select",{value:n,onchange:function(t){return n(t.target.value)}},(function(){return Object.keys(e).map((function(n){return x("option",{value:n,disabled:void 0===e[n]},n)}))}))),x("label",{class:"amount-picker picker",onmousedown:function(n){return n.stopPropagation()}},"Amount",x("select",{value:$,onchange:function(n){return $(parseInt(n.target.value))}},M.map((function(n){return x("option",{value:n},n)}))))])}function F(n){var t=n.big,e=n.label,r=n.x,i=n.y,o=n.color;var u=null;return e&&(u=x("span",{class:"label"},r,",",i)),x("div",{class:function(){return function(n,t){var e="cursor";return n&&(e+=" big"),t&&(e+=" label"),e}(t(),e)},style:function(){return"left:"+("function"==typeof r?r():r)+"px;top:"+("function"==typeof i?i():i)+"px;border-color:"+("function"==typeof o?o():o)}},u)}document.body.appendChild(function(){var n=i(0),t=i(0),e=i(!1),u=i(0),a=navigator.maxTouchPoints>1;addEventListener(a?"touchmove":"mousemove",(function(e){var r,i,o;r=e.touches?e.touches[0]:e,i=r.pageX,o=r.pageY,n(i),t(o)})),addEventListener(a?"touchstart":"mousedown",(function(n){n.preventDefault(),e(!0)})),addEventListener(a?"touchend":"mouseup",(function(){return e(!1)})),function n(){u(u()+1),P(n)}();var c=o((function(){return $()+Math.round(Math.sin(u()/90*2*Math.PI)*$()*.5)})),f=[],l=o((function(){return Array(c()).fill(0).map((function(e,i){return f[i]||(f[i]=function(e){return{x:function(){var t=2*(e/c()*L)*Math.PI,i=20+2*e;return r(n)+Math.sin(t)*i|0},y:function(){var n=2*(e/c()*L)*Math.PI,i=20+2*e;return r(t)+Math.cos(n)*i|0},color:function(){return"hsl("+(255*(e/c()*L)+10*r(u))%255+",100%,50%)"}}}(i))}))}));return x("div",{id:"main"},x(q,null),x(F,{label:!0,big:e,x:n,y:t}),function(n,t,e){var r=s.subscribe,i=s.root,o=s.sample,u=s.cleanup;null==e&&(e=!t.$t);var a=document.createDocumentFragment(),c=a.appendChild(document.createTextNode("")),f=a.appendChild(document.createTextNode("")),l=new Map;function d(){l.forEach((function(n){return n()})),l.clear()}function v(n){var t=l.get(n);t&&t(),l.delete(n)}function p(n,r,o,u,a){return e?i((function(e){var i=T(n,t(r,o,u),a);return l.set(i,e),i})):T(n,t(r,o,u),a)}return u(r((function(t){var r=n();return o((function(){return function n(t,e,r,i,o,u,a,c){t=o.parentNode;var f,l=r.length;if(0===l)return i.previousSibling||o.nextSibling?w(t,i.nextSibling,o):(t.textContent="",t.appendChild(i),t.appendChild(o)),a&&a(),[];if(0===e.length){for(f=0;f<l;f++)u(t,r[f],f,r,o);return r.slice()}var s,d,v=0,p=0,h=e.length-1,g=l-1,m=i.nextSibling,b=o.previousSibling,y=o;n:for(;;){for(;e[v]===r[p];)if(p++,m=N(m,S),h<++v||g<p)break n;for(;e[h]===r[g];)if(g--,b=(y=N(b,_,!0)).previousSibling,--h<v||g<p)break n;break}if(g<p){for(;v<=h--;)d=(s=N(b,_,!0)).previousSibling,w(t,s,b.nextSibling),c&&c(s),b=d;return r.slice()}if(h<v){for(;p<=g;)u(t,r[p++],p,r,y);return r.slice()}var x=new Array(g+1-p),C=new Map;for(f=p;f<=g;f++)x[f]=-1,C.set(r[f],f);l=0;var E=[];for(f=v;f<=h;f++)(s=C.get(e[f]))?(x[s]=f,l++):E.push(f);if(0===l)return n(t,n(t,e,[],i,o,u,a),r,i,o,u);var T=[];for(s=m,f=v;f<=h;f++)T[f]=s,s=N(s,S);for(f=0;f<E.length;f++)w(t,s=T[E[f]],N(s,S)),c&&c(s);var M=function(n,t){for(var e=[],r=[],i=-1,o=new Array(n.length),u=t,a=n.length;u<a;u++){var c=n[u];if(!(c<0)){var f=k(e,c);-1!==f&&(o[u]=r[f]),f===i?(e[++i]=c,r[i]=u):c<e[f+1]&&(e[f+1]=c,r[f+1]=u)}}for(u=r[i];i>=0;u=o[u],i--)e[i]=u;return e}(x,p);for(l=M.length-1,f=g;f>=p;f--)M[l]===f?(y=T[x[M[l]]],l--):(-1===x[f]?s=u(t,r[f],f,r,y):A(t,s=T[x[f]],N(s,S),y),y=s);return r.slice()}(a,t||[],r||[],c,f,p,e&&d,e&&v)}))}))),u(d),a}(l,(function(n){var t=n.x,r=n.y,i=n.color;return x(F,{big:e,x:t,y:r,color:i})})))}()),addEventListener("touchstart",(function(n){return n.preventDefault(),!1}))}();
//# sourceMappingURL=bundle.js.map
